{% extends "layout.html" %}


{% block page_content %}

<style>
/*
.parallax {
    position: absolute;
    height: 100%;
    width: 100%;
}

.layer {
    position: relative;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    height: 100%;
    width: 100%;
}

.layer img {
    margin-top: 500px;
    margin-left: 500px;
    height: 1000px;
    width: 730px;
}
*/

.coiny {
    font-family: 'Coiny', sans-serif;
    font-size: 48px;
}

.read {
    position: relative;
    margin-top: 20px;
    padding-left: 40px;
    padding-right: 40px;
    padding-top: 40px;
    padding-bottom: 40px;
    width: 100%;
    height: 1000px;
    font-size: 24px;
    text-align: left;
    color: #8B555E
}

.main-card {
    position: absolute;
    top: 50%;
    padding: 20px;
    transform: translateY(-50%);
    left: 100px;
    width: 40%;
    height: 80%;
    border-radius: 10px;
    background-color: #5499aaff;
    z-index: 2;
}

.read .shadow {
    position: absolute;
    width: 40%;
    height: 80%;
    border-radius: 10px;
    background-color: #1e7995ff;
    top: 55%;
    transform: translateY(-55%);
    left: 95px;
}

.center {
    align-content: center;
    align-items: center;
}

.read-more-btn {
    display: inline-block;
    padding: 10px 20px;
    margin-top: 20px;
    width: 36%;
    height: auto;
    font-size: 28px;
    background-color: #8B555E;
    color: #EDF0DA;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-decoration: none;
    text-align: center;
    border-radius: 50px;
    transition: transform 0.1s ease-in-out;
}

.read-more-btn:hover {
    color: #EDF0DA; /* Ensure the text color stays white on hover */
    background-color: #D88993
}

.read-more-btn:active {
    transform: scale(0.95);
}

.stats {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    width: 100%;
    height: 1000px;
}

.stat-card {
    transform: translateY(50%);
    width: 25%;
    height: 50%;
    text-align: center;
}

.shadow-info {
    position: absolute;
    top: 5px;
    left: -5px;
    background-color: #F0DFAD;
    border-radius: 10px;
    padding: 20px;
    height: 80%;
    width: 100%;
}

.info-box {
    position: absolute;
    background-color: #EDF0DA;
    border-radius: 10px;
    padding: 20px;
    text-align: center;
    font-weight: bold;
    color: #8B555E;
    height: 80%;
    width: 100%;
    z-index: 2;
}

.info-box .number {
    font-size: 48px;
    margin: 0;
    color: #8B555E;
}

.info-box .description {
    font-size: 24px;
    color: #8B555E;
    height: 40px;
}

.percentage-box {
    border-radius: 10px;
    padding: 10px;
    text-align: center;
    font-size: 100px;
    font-weight: bold;
    margin-top: 20px;
    color: #8B555E;
    height: 140px;
}

.percentage-box .slam-text {
    display: inline-block;
}

@keyframes slam {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.8);
    }
    70% {
        transform: scale(0.9);
    }
    100% {
        transform: scale(1);
    }
}

.slam {
    animation: slam 0.5s ease-in-out;
}

.centerer {
    text-align: center;
    align-content: center;
    align-items: center;
}

.emaciated {
    padding-left: 40px;
    padding-right: 40px;
    padding-top: 40px;
    padding-bottom: 40px;
    width: 100%;
    height: 1000px;
    font-size: 36px;
    text-align: left;
}

.stackin {
    padding-left: 40px;
    padding-right: 40px;
    padding-top: 40px;
    padding-bottom: 40px;
    width: 100%;
    height: 1000px;
    font-size: 36px;
}

.emaciated .image-text-container {
    position: relative;
    top: 50%;
    transform: translateY(-50%);
}

.image-text-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-radius: 10px;
    color:#EDF0DA;
}

.image-text-container img {
    margin-left: 40px;
    max-width: 100%;
    width: 250px;
    height: auto;
    border-radius: 10px;
}

.image-text-container .text-content {
    max-width: 65%;
    margin-left: 20px;
    text-align: left;
    color:#EDF0DA;
}

.emaciated .pig-text-container {
    position: relative;
    top: 50%;
    transform: translateY(-50%);
}

.stackin .text-stack {
    position: relative;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
}

.text-stack {
    display: flex;
    justify-content: center;
    height: auto;
    width: 600px;
    padding: 20px;
    border-radius: 10px;
}

.text-stack .stack-text-content {
    text-align: center;
    color: #8B555E;
}

.pig-text-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    border-radius: 10px;
}

.pig-text-container img {
    margin-left: 20px;
    max-width: 100%;
    width: 250px;
    height: auto;
    border-radius: 10px;
}

.pig-text-container .text-content {
    max-width: 65%;
    margin-left: 40px;
    text-align: left;
    color:#8B555E;
}

#logo-container {
    width: auto; /* Adjust the width as per your logo size */
    height: 800px; /* Adjust the height as per your logo size */
    display: flex;
    justify-content: center;
    align-items: center;
}

#logo {
    width: 100%;
    height: auto;
}

.image-box {
    position: relative;
    width: 20%;
    height: auto;
    margin: 25px;
    padding: 25px;
}

.image-box img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: opacity 0.3s;
}

.image-box .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s;
    text-align: left;
    padding: 20px;
    box-sizing: border-box;
}

.arrow {
    font-size: 48px;
}

.solutions {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
}

.section-header {
    text-align: center;
    height: auto;
    width: 100%
}

</style>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        setTimeout(function() {
            document.getElementById('logo').src = 'https://static.igem.wiki/teams/5178/animation-final-frame.png';
        }, 5000); // 5000 milliseconds = 5 seconds
    });
</script>

<div class="container logo-container bg-offwhite" id="logo-container">
    <img id="logo" src="https://static.igem.wiki/teams/5178/logo-animation.gif" alt="Logo Animation">
</div>
<div class="container full-width bg-yellow read">
    <div class="main-card">
        <div class="coiny">
        <link href="https://fonts.googleapis.com/css2?family=Coiny&display=swap" rel="stylesheet">
            <p>What is BLISS?</p>
        </div>
        <p>The Bacillus Lipase Integrated Secretion System (BLISS) is a groundbreaking probiotic developed to address Exocrine Pancreatic Insufficiency (EPI). Through genetic engineering, <i>B. subtilis</i> has been modified to produce human pancreatic lipases, procolipases, amylases, and proteases, functioning as a pancreatic enzyme replacement therapy.</p>
        <a href="https://2024.igem.wiki/virginia/description" class="read-more-btn">Read More</a>
    </div>
    <div class="shadow"></div>
</div>
<div class="container full-width bg-offwhite stats">
    <div class="stat-card">
        <div class="info-box" data-target="NaN" data-format="plain">
            <p class="number">0</p>
            <p class="description">individuals worldwide suffer from chronic pancreatitis.</p>
            <div class="percentage-box"><span class="slam-text">Not</span></div>
            <p class="description">of individuals with chronic pancreatitis develop EPI</p>
        </div>
        <div class="shadow-info"></div>
    </div>
    <div class="stat-card">
        <div class="info-box" data-target="NaN" data-format="plain">
            <p class="number">0</p>
            <p class="description">individuals worldwide suffer from cystic fibrosis.</p>
            <div class="percentage-box"><span class="slam-text">Yet</span></div>
            <p class="description">of cystic fibrosis patients develop EPI</p>
        </div>
        <div class="shadow-info"></div>
    </div>
    <div class="stat-card">
        <div class="info-box" data-target="NaN" data-format="plain">
            <p class="number">0</p>
            <p class="description">individuals worldwide suffer from Type 1 Diabetes.</p>
            <div class="percentage-box"><span class="slam-text">Finished</span></div>
            <p class="description">of Type 1 Diabetes patients develop EPI</p>
        </div>
        <div class="shadow-info"></div>
    </div>
</div>
<div class="container full-width bg-lightpink emaciated">
    <div class="image-text-container">
        <img src="https://static.igem.wiki/teams/5178/malnourished.png" alt="Malnourished Woman">
        <div class="text-content">
            <p>Individuals with EPI suffer from a deficiency in digestive enzymes and are thus unable to hydrolyze and break down food into nutrients for the body. This can lead to severe malnutrition for EPI patients, resulting in long-term complications including arrhythmia, anemia, and osteoporosis.</p>
        </div>
    </div>
</div>
<div class="container full-width bg-yellow emaciated">
    <div class="pig-text-container">
        <div class="text-content">
            <p>Current treatment for EPI involves pancreatic enzyme replacement therapy (PERT) using medications from porcine pancreases. However, this treatment poses challenges for individuals avoiding pork and raises ethical and environmental concerns.</p>
        </div>
        <img src="https://static.igem.wiki/teams/5178/sad-pig.png" alt="Sad Pig">
    </div>
</div>
<div class="container full-width bg-offwhite stackin">
    <div class="text-stack">
        <div class="stack-text-content">
            <p>The drawbacks of existing PERT medications inspire us to develop a more ethical, affordable, and inclusive EPI treatment by harnessing the potential of synthetic biology to reshape healthcare and society...</p>
        </div>
    </div>
</div>
<div class="container full-width solutions bg-yellow">
    
</div>
<div class="container full-width bg-offwhite">
    <div class="section-header coiny">
        <p>Our Solution</p>
    </div>
        <div class="solutions">
    <div class="image-box" id="box1">
        <img src="https://static.igem.wiki/teams/5178/gear.png" alt="Image 1">
        <div class="overlay" id="overlay1">
            <div class="description">Our solution begins with a plasmid construct which produces lipolytic enzymes in <i>B. subtilis</i>.</div>
        </div>
    </div>
    <div class="arrow">&#x2B9E;</div>
    <div class="image-box" id="box2">
        <img src="https://static.igem.wiki/teams/5178/justblissyogurt.png" alt="Image 2">
        <div class="overlay" id="overlay2">
            <div class="description">Our device will be placed into yogurt for storage and as a delicious treat.</div>
        </div>
    </div>
    <div class="arrow">&#x2B9E;</div>
    <div class="image-box" id="box3">
        <img src="https://static.igem.wiki/teams/5178/ambivalent-yogurt-1.png" alt="Image 3">
        <div class="overlay" id="overlay3">
            <div class="description">This yogurt concoction, BLISS, is then consumed by patients with EPI.</div>
        </div>
    </div>
    <div class="arrow">&#x2B9E;</div>
    <div class="image-box" id="box4">
        <img src="https://static.igem.wiki/teams/5178/person-pancreas-1.png" alt="Image 4">
        <div class="overlay" id="overlay4">
            <div class="description">The necessary enzymes are secreted when triggered by target molecules to enable normal functioning in the small intestine.</div>
        </div>
    </div>
        </div>
</div>
<div class="cards-container">
    <div class="card" id="card1" href="https://2024.igem.wiki/virginia/description">
        <img src="https://static.igem.wiki/teams/5178/barry-notebook.png" alt="Barry Writing">
        <h2>Project Description</h2>
        <p>View an in depth summary of our solution.</p>
        <div class="low-align">
            <a href="https://2024.igem.wiki/virginia/description" class="read-more-btn-sm">Read More</a>
        </div>
    </div>
    <div class="card" id="card2" href="https://2024.igem.wiki/virginia/engineering">
        <img src="https://static.igem.wiki/teams/5178/barry-engineering.png" alt="Barry Engineering">
        <h2>Engineering</h2>
        <p>Learn how we designed our project and its mechanism of action.</p>
        <div class="low-align">
            <a href="https://2024.igem.wiki/virginia/engineering" class="read-more-btn-sm">Read More</a>
        </div>
    </div>
    <div class="card" id="card3" href="https://2024.igem.wiki/virginia/model">
        <img src="https://static.igem.wiki/teams/5178/barry-modeling.png" alt="Barry Modeling">
        <h2>Modeling</h2>
        <p>Explore systems designed to represent real-world functioning.</p>
        <div class="low-align">
            <a href="https://2024.igem.wiki/virginia/model" class="read-more-btn-sm">Read More</a>
        </div>
    </div>
    <div class="card" id="card4" href="https://2024.igem.wiki/virginia/human-practices">
        <img src="https://static.igem.wiki/teams/5178/barry-notebook.png" alt="Barry Discussing">
        <h2>Human Practices</h2>
        <p>Discover who we communicated with to inform and develop our project.</p>
        <div class="low-align">
            <a href="https://2024.igem.wiki/virginia/human-practices" class="read-more-btn-sm">Read More</a>
        </div>
    </div>
</div>


<!--
<div class="parallax">
    <div class="layer" data-speed="0.6" id="layer1">
        <img src="https://static.igem.wiki/teams/5178/barry-engineering.png">
    </div>
</div>
-->


<script>
    document.addEventListener("DOMContentLoaded", function() {
            const counters = document.querySelectorAll('.info-box');
            let countComplete = 0;

            counters.forEach(counter => {
                const updateCount = () => {
                    const target = +counter.getAttribute('data-target');
                    const count = +counter.querySelector('.number').innerText.replace(/,/g, '');
                    const increment = target / 200; // Adjust the speed of counting here

                    if (count < target) {
                        const newCount = count + increment;
                        counter.querySelector('.number').innerText = newCount.toLocaleString(undefined, {maximumFractionDigits: 0});
                        setTimeout(updateCount, 10); // Adjust the update frequency here
                    } else {
                        let finalNumber = target.toLocaleString(undefined, {maximumFractionDigits: 0});
                        counter.querySelector('.number').innerText = finalNumber;
                        if (counter.getAttribute('data-format') === 'million') {
                            counter.querySelector('.number').innerText += ' million';
                        }
                        countComplete++;
                        if (countComplete === counters.length) {
                            showPercentageBoxes();
                        }
                    }
                };

                updateCount();
            });

            function showPercentageBoxes() {
                const percentageBoxes = document.querySelectorAll('.percentage-box .slam-text');
                percentageBoxes.forEach(box => {
                    setTimeout(() => {
                        box.classList.add('slam');
                    }, 1000); // Adjust the delay after counting animation here
                });
            }
        });
</script>

<!--
<script>
    document.addEventListener('scroll', function() { 
        const layers = document.querySelectorAll('.layer'); 
        let scrollPosition = window.pageYOffset; 

    layers.forEach(layer => { 
        let speed = layer.getAttribute('data-speed'); 
        let yPos = -(scrollPosition * speed); 
        layer.style.transform = `translateY(${yPos}px) translateX(-50%)`; 
    }); 
}); 
</script>
-->

<!--
<script> 
    document.addEventListener("DOMContentLoaded", function() { 
        const logoAnimation = document.getElementById('logo-animation'); 
        const mainContent = document.getElementById('main-content'); 
        let animationTimeout; 
    
        function endAnimation() { 
            logoAnimation.style.opacity = '0'; 
            logoAnimation.addEventListener('transitionend', () => { 
                logoAnimation.style.display = 'none'; 
                mainContent.style.display = 'block'; 
                document.body.style.overflow = 'auto'; 
            }); 
        } 
    
        // Set timeout for 4 seconds 
        animationTimeout = setTimeout(endAnimation, 2000); 
    
        // Add event listener to skip animation on click 
        logoAnimation.addEventListener('click', () => { 
            clearTimeout(animationTimeout); 
            endAnimation(); 
        }); 
    }); 
</script> 
-->
<style>
.cards-container {
    display: flex;
    justify-content: space-around;
    align-items: flex-start;
    width: 100%;
    height: 800px;
}

.card {
    opacity: 0;
    transform: translateY(50%);
    transition: transform 1s ease, opacity 1s ease;
    margin: 20px;
    padding: 20px;
    border: 1px solid #ccc;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: 25%;
    height: 75%;
    text-align: center;
}

.card img {
    width: 100%;
    height: auto;
    display: block;
    margin-bottom: 10px;
}

.card p {
    margin: 0;
    padding: 0;
    font-size: 16px;
}

.low-align {
    transform: translateY(80%);
    align-content: center;
    align-items: center;
}

.read-more-btn-sm {
    position: relative;
    display: inline-block;
    padding: 10px 20px;
    margin-top: 20px;
    width: 120px;
    height: auto;
    font-size: 14px;
    background-color: #8B555E;
    color: #EDF0DA;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-decoration: none;
    top: 80%;
    border-radius: 50px;
    transition: transform 0.1s ease-in-out;
}

.read-more-btn-sm:hover {
    color: #EDF0DA; /* Ensure the text color stays white on hover */
    background-color: #D88993
}

.read-more-btn-sm:active {
    transform: scale(0.95);
}

</style>


<script>
document.addEventListener("DOMContentLoaded", function() {
    const cards = document.querySelectorAll(".card");

    const observerOptions = {
        root: null,
        rootMargin: "0px",
        threshold: 0.1
    };

    const observerCallback = (entries, observer) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = 1;
                entry.target.style.transform = "translateY(0)";
                observer.unobserve(entry.target);
            }
        });
    };

    const observer = new IntersectionObserver(observerCallback, observerOptions);

    cards.forEach((card, index) => {
        setTimeout(() => {
            observer.observe(card);
        }, index * 200); // Stagger the observation by 200ms for each card
    });
});

</script>

{% endblock %}