{% extends "layout.html" %}
  
{% block title %}Contribution{% endblock %}
{% block lead %}Make a useful contribution for future iGEM teams. Use this page to document that contribution.{% endblock %}

{% block page_content %}
<!--
<style>

  .big-boy {
    margin-top: 20px;
    padding: 20px;
    height: auto;
    width: 100%;
  }
  
  .big-boy img {
    transform: translateY(50%);
    height: auto;
    width: 50%;
  }
  
  </style>
  
  <div class="container big-boy full-width">
    <img src="https://static.igem.wiki/teams/5178/headers/attributions-head.png" alt="Attributions Head">
  </div>
<div class="row mt-4">
  <div class="col">
    <div class="bd-callout bd-callout-info">
      <h4>Bronze Medal Criterion #4</h4>
      <p>Make a useful contribution for future iGEM teams. Use this page to document that contribution.</p>
      <p>If you are making a contribution by adding information to an existing Part or creating a new Part, you must document your contribution on the Part's Main Page on the <a href="https://parts.igem.org/Main_Page">Registry</a> for your team to be eligible for this criteria. You can use this page to link to that part and include additional information about your contribution.</p>
      <hr>
      <p>Please see the <a href="https://competition.igem.org/judging/medals">2024 Medals Page</a> for more information.</p>
    </div>
  </div>
</div>
-->
<style>
  canvas { display: block; }

</style>

<body>
  <input type="text" id="proteinId" placeholder="Enter Protein ID">
  <button onclick="loadProtein()">Load Protein</button>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
  <script type="module">
      import { GLTFLoader } from 'https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/loaders/GLTFLoader.js';
      import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.128.0/examples/jsm/controls/OrbitControls.js';

      let scene, camera, renderer, molecule;

      function init() {
          // Scene setup
          scene = new THREE.Scene();
          camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
          renderer = new THREE.WebGLRenderer();
          renderer.setSize(window.innerWidth, window.innerHeight);
          document.body.appendChild(renderer.domElement);

          // Lights
          const light = new THREE.DirectionalLight(0xffffff, 1);
          light.position.set(5, 5, 5).normalize();
          scene.add(light);

          // Camera position
          camera.position.z = 5;

          // Controls
          const controls = new OrbitControls(camera, renderer.domElement);
          controls.enableDamping = true;
          controls.dampingFactor = 0.25;
          controls.enableZoom = true;

          // Window resize
          window.addEventListener('resize', onWindowResize, false);

          animate();
      }

      function onWindowResize() {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
      }

      function animate() {
          requestAnimationFrame(animate);
          renderer.render(scene, camera);
      }

      function loadProtein() {
          const proteinId = document.getElementById('proteinId').value;
          if (!proteinId) {
              alert('Please enter a Protein ID');
              return;
          }

          // Remove previous molecule
          if (molecule) {
              scene.remove(molecule);
          }

          // Load the new molecule
          const loader = new GLTFLoader();
          loader.load(`static/AF-P16233-F1__1_.glb`, function(gltf) {
              molecule = gltf.scene;
              scene.add(molecule);
          }, undefined, function(error) {
              console.error(error);
              alert('Failed to load the protein model.');
          });
      }

      init();
  </script>
</body>

{% endblock %}
